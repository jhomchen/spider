<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jh.ssm.dao.UserMapper">
    
    <sql id="selectUserField">
         id,name,phone,email,password,head_img as headImg,gender,age,ban,mark,create_t as createTime,update_t as updateTime
    </sql>
    <select id="selectByPrimaryKey" parameterType="int" resultType="com.jh.ssm.pojo.User">
         select <include refid="selectUserField"/> from user where id=#{id}
    </select>
    <select id="selectAllList" resultType="com.jh.ssm.pojo.User">
         select <include refid="selectUserField"/>  from user
    </select>
    
    <select id="selectUserByNameOrEmail" parameterType="string" resultType="com.jh.ssm.pojo.User">
         select <include refid="selectUserField"/> from user where phone=#{name} or email=#{name}
    </select>
    
    <select id="selectUserByNameOrEmailAndPassword" parameterType="com.jh.ssm.pojo.User" resultType="com.jh.ssm.pojo.User">
         select <include refid="selectUserField"/> from user where (phone=#{phone} or email=#{email}) and password=#{password}
    </select>
    
</mapper>